{% extends 'base.html' %}

{% block content %}
<canvas id="myChart"></canvas>

{% for s in subs %}

    <p>{{s.first_name}}</p>
    <p>{{s.last_name}}</p>
    <p>{{s.email}}</p>
    <p>{{s.zipcode}}</p>
    <p>{{s.special_date}}</p>
    <p>{{s.special_date_name}}</p>
    <p>{{s.phone}}</p>
    <p>{{s.frequency}}</p>
    <p>{{s.placename}}</p>
    <br>

{% endfor %}

<script>
  var ctx = document.getElementById('myChart').getContext('2d');
  var myChart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: ['Seattle', 'Bellevue', 'Tacoma', 'Shorline', 'Other'],
        datasets: [{
          label: 'Location of Subscribers',
          data: [{{city_count.seattle}}, {{city_count.bellevue}}, {{city_count.tacoma}}, {{city_count.shoreline}}, {{city_count.other}}],
          backgroundColor: [
            'rgba(255, 206, 86, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(153, 102, 255, 0.2)',
            'rgba(255, 99, 132, 0.2)',
            'rgba(75, 192, 192, 0.2)',
              ],
            borderColor: [
              'rgba(255, 206, 86, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(153, 102, 255, 1)',
              'rgba(255, 99, 132, 1)',
              'rgba(75, 192, 192, 1)',
              ],
              borderWidth: 1
            }]
          },
          options: {
    responsive: true,
    plugins: {
      legend: {
        position: 'top',
      },
      title: {
        display: true,
        text: 'Chart.js Pie Chart'
      }
    }
  },
      });
</script>
{% endblock %}